from pydantic import BaseModel, Field
from datetime import datetime

class SignatureLog(BaseModel):
    address: str = Field(
        ...,
        description="The wallet address that signed the message",
        example="0x1234...5678"
    )
    message: str = Field(
        ...,
        description="The message that was signed",
        example="Verify wallet ownership..."
    )
    signature: str = Field(
        ...,
        description="The signature of the message",
        example="0x1234...5678"
    )
    timestamp: datetime = Field(
        default_factory=datetime.now,
        description="The time when the message was signed"
    )

    class Config:
        schema_extra = {
            "example": {
                "address": "0x1234567890123456789012345678901234567890",
                "message": "Verify wallet ownership\nAddress: 0x1234...5678\nTimestamp: 1234567890",
                "signature": "0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890",
                "timestamp": "2024-01-01T00:00:00Z"
            }
        }
